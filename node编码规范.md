# node编码规范

## 空格与格式

1. 缩进： 采用两个空格，而不是tab缩进。因为tab可能因为编辑器的不同导致缩进位置不同。
2. 变量声明：永远用var声明变量，不加var会变成全局变量。
3. 在操作前后需要加空格，如：`var a = 'hello' + 'world'`
4. 在node中使用字符串时尽量使用单引号，这样无需转义。
5. 一般情况下，大括号无需另起一行，如：
   ​ ` if (true) {
   ​        //
   ​    }
   `
6. 逗号： 逗号用于变量的声明或是元素的分隔。如果逗号不在行结尾，后面需要一个空格。此外，逗号不允许出现在行首。
7. 分号：给表达式结尾加上分号，如：`return a + b;`

## 命名规范

1. 变量命名： 变量命名都采用小驼峰式。
2. 方法命名：也和变量命名一样，采用小驼峰式。
3. 类命名：采用大驼峰式。
4. 常量命名：作为常量时，单词的所有字母都大写，并用下划线分隔。
5. 文件命名：命名文件时，尽量采用下划线分隔单词，如：`child_process.js` ，如果不想将文件暴露给用户，可以约定以下划线开头如：`_linklist.js`

## 字面量
1. 尽量使用`{}`、`[]`代替 new Object() 、new Array()，不要调用new string，new boolean 和new Number。

## 作用域
1. 慎用关键字`with`和方法`eval()`，容易引起作用域混乱。

## 数组与对象
1. 创建对象和数组时，注意在结尾用逗号分隔。如果分行，一行只能一个元素。
2. for in循环，对对象使用，不要对数组使用。
  `var foo = [];
   var foo[100] = 100;
   for (var i in foo)  {
    console.log(i) //只输出100
   }`
3. 不要把数组当做对象使用。

## 异步
1. 异步回调函数的第一个参数应该是错误提示，如：
` function(err,data) {
    //code
}`
2. 执行传入的回调函数，在异步方法中一旦传有回调函数，就一定要执行它，且不能多次执行。如果不执行，可能造成调用一直等待不结束。

